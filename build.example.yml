ios:
  summary: build for iOS
  command: |
    PRODUCT_NAME="{{.build.productName}}" \
    BUNDLE_VERSION="{{.build.bundleVersion}}" \
    BUNDLE_IDENTIFIER="{{.build.bundleIdentifier}}" \
    CODE_SIGN_IDENTITY="{{.build.codeSignIdentity}}" \
    BUILD_TARGET=ios \
    PROVISIONING_PROFILE="{{.build.iOS.adhocProvisioningProfile}}" \
    tools/build/build.sh

android:
  summary: build for Android
  command: |
    PRODUCT_NAME="{{.build.productName}}" \
    BUNDLE_VERSION="{{.build.bundleVersion}}" \
    BUNDLE_IDENTIFIER="{{.build.bundleIdentifier}}" \
    CODE_SIGN_IDENTITY="{{.build.codeSignIdentity}}" \
    BUILD_TARGET=android \
    tools/build/build.sh

variables:
  build:
    productName: Foo
    bundleVersion: 1.0.0
    bundleIdentifier: com.example.foo
    codeSignIdentity: John Doe (HOGEHOGE)
    iOS:
      adhocProvisioningProfile: tools/build/cert/foo.mobileprovision
